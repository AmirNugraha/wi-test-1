<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover, user-scalable=no">
<meta name="theme-color" content="#0A160D">
<title>Undangan Pernikahan â€” Ahmad & Siti</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400;1,700&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400;1,600&family=Jost:wght@200;300;400;500&display=swap" rel="stylesheet">

<style>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESET & CORE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
html { font-size:16px; }
body {
  font-family: 'Jost', sans-serif;
  background: #0A160D;
  color: #fff;
  overflow: hidden;
  height: 100dvh;
  width: 100vw;
  overscroll-behavior: none; /* Cegah pull-to-refresh di mobile */
  -webkit-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
}
input, textarea { -webkit-user-select: auto; user-select: auto; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PORTRAIT STAGE â€” 9:16 locked, centered
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#stage { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; background: #000; }
#film { position: relative; width: min(100vw, calc(100dvh * 9/16)); height: min(100dvh, calc(100vw * 16/9)); overflow: hidden; background: #0A160D; cursor: pointer; }
#stage::before, #stage::after { content: ''; position: absolute; background: #000; z-index: 100; pointer-events:none; }
#stage::before { top:0;left:0;right:0; height: max(0px, calc((100dvh - 100vw*16/9)/2)); }
#stage::after  { bottom:0;left:0;right:0; height: max(0px, calc((100dvh - 100vw*16/9)/2)); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCENE SYSTEM
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.scene { position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; opacity: 0; pointer-events: none; transition: opacity 0s; overflow: hidden; z-index: 2; }
.scene.active { opacity: 1; pointer-events: all; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GLOBAL CANVAS (Adat Pattern & Falling Flowers)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#bg-canvas { position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; overflow: hidden; }
/* Motif paduan belah ketupat Sasirangan & Kawung Jawa */
.adat-pattern {
  position: absolute; inset: 0; pointer-events: none; opacity: 0.05;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'%3E%3Cpath d='M30 0L60 30L30 60L0 30Z' fill='none' stroke='%23D9C88A' stroke-width='0.5'/%3E%3Ccircle cx='30' cy='30' r='10' fill='none' stroke='%236DAB8A' stroke-width='0.5'/%3E%3C/svg%3E");
  background-size: 60px 60px;
}
.bunga-gugur {
  position: absolute;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23D9C88A'%3E%3Cpath d='M12 2C12 2 9 8 5 12C9 16 12 22 12 22C12 22 15 16 19 12C15 8 12 2 12 2Z'/%3E%3Cpath d='M2 12C2 12 8 9 12 5C16 9 22 12 22 12C22 12 16 15 12 19C8 15 2 12 2 12Z'/%3E%3C/svg%3E");
  background-size: contain; background-repeat: no-repeat;
  animation: fall var(--dur, 15s) var(--del, 0s) linear infinite;
  pointer-events: none;
}
@keyframes fall {
  0% { transform: translateY(-10vh) translateX(0) rotate(0deg); opacity: 0; }
  10% { opacity: var(--op, 0.15); }
  90% { opacity: var(--op, 0.15); }
  100% { transform: translateY(110vh) translateX(var(--drift, 50px)) rotate(360deg); opacity: 0; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCENE 0 â€” OPENING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#s0 { background: radial-gradient(ellipse at 50% 60%, #0E2518 0%, #091409 60%, #030905 100%); z-index: 10; }
#s0 .envelope-wrap { position: relative; z-index: 2; display: flex; flex-direction: column; align-items: center; gap: 0; }
.s0-bismillah { font-family: 'Amiri', serif; font-size: clamp(1.4rem, 6vw, 2rem); color: #D9C88A; opacity: 0; animation: fadeInUp 1.4s 0.5s forwards; text-align: center; margin-bottom: 2rem; letter-spacing: 0.05em; }
.s0-envelope { width: clamp(140px, 45vw, 200px); height: clamp(100px, 32vw, 144px); position: relative; animation: floatEnv 4s ease-in-out infinite; margin-bottom: 2.5rem; }
@keyframes floatEnv { 0%,100% { transform: translateY(0) rotate(-1deg); } 50% { transform: translateY(-12px) rotate(1deg); } }
.s0-tagline { font-size: clamp(0.55rem, 2.2vw, 0.72rem); letter-spacing: 0.42em; text-transform: uppercase; color: rgba(217,200,138,.5); opacity: 0; animation: fadeInUp 1.2s 1.8s forwards; margin-bottom: 0.5rem; }
.s0-names { font-family: 'Cormorant Garamond', serif; font-size: clamp(2.4rem, 10vw, 3.8rem); font-weight: 300; color: #fff; opacity: 0; animation: fadeInUp 1.4s 1.2s forwards; letter-spacing: 0.02em; line-height: 1; text-align: center; }
.s0-names span { color: #9A8040; font-style: italic; }
.s0-and { font-family: 'Amiri', serif; font-size: clamp(1.5rem, 5vw, 2rem); color: #6DAB8A; display: block; text-align: center; margin: 0.2em 0; }
.s0-tap { font-size: clamp(0.55rem, 2vw, 0.68rem); letter-spacing: 0.35em; text-transform: uppercase; color: rgba(109,171,138,.7); opacity: 0; animation: fadeInUp 1s 2.8s forwards, pulse 2.5s 3.5s ease-in-out infinite; margin-top: 2rem; }
@keyframes pulse { 0%,100%{opacity:.7} 50%{opacity:.25} }
#s0.closing { animation: closeScene 0.9s forwards; }
@keyframes closeScene { 0% { opacity:1; transform:scale(1); } 40% { opacity:1; transform:scale(1.06); } 100% { opacity:0; transform:scale(1.12); } }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCENE 1 â€” BISMILLAH
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#s1 { background: linear-gradient(175deg, #0A1A0D 0%, #122A18 45%, #0A1A0D 100%); }
.s1-border { position: absolute; inset: clamp(10px, 3vw, 20px); border: 1px solid rgba(154,128,64,.22); pointer-events: none; }
.s1-border::before { content: ''; position: absolute; inset: 5px; border: 1px solid rgba(109,171,138,.1); }
.corner { position: absolute; width: clamp(30px,8vw,48px); height: clamp(30px,8vw,48px); }
.corner.tl { top:clamp(6px,2vw,14px); left:clamp(6px,2vw,14px); }
.corner.tr { top:clamp(6px,2vw,14px); right:clamp(6px,2vw,14px); transform:scaleX(-1); }
.corner.bl { bottom:clamp(6px,2vw,14px); left:clamp(6px,2vw,14px); transform:scaleY(-1); }
.corner.br { bottom:clamp(6px,2vw,14px); right:clamp(6px,2vw,14px); transform:scale(-1); }

.s1-content { display: flex; flex-direction: column; align-items: center; gap: clamp(0.6rem, 2.5vw, 1.2rem); padding: clamp(20px,6vw,50px); text-align: center; z-index: 2; }
.s1-arabic { font-family: 'Amiri', serif; font-size: clamp(1.6rem, 7vw, 2.6rem); color: #D9C88A; line-height: 1.7; direction: rtl; }
.s1-divider { width: clamp(50px,15vw,80px); height: 1px; background: linear-gradient(90deg, transparent, #9A8040, transparent); }
.s1-ayat { font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: clamp(0.78rem, 2.8vw, 1rem); color: rgba(255,255,255,.65); line-height: 1.9; max-width: 80%; }
.s1-ref { font-size: clamp(0.5rem,1.8vw,0.62rem); letter-spacing: 0.22em; text-transform: uppercase; color: #9A8040; padding: 3px 14px; border: 1px solid rgba(154,128,64,.3); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCENE 2 â€” COUPLE REVEAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#s2 { background: linear-gradient(165deg, #0D2214 0%, #0A1A0D 100%); }
.s2-bg-circle { position: absolute; border-radius: 50%; background: radial-gradient(circle, rgba(61,112,85,.18) 0%, transparent 70%); }
.s2-content { display: flex; flex-direction: column; align-items: center; gap: clamp(0.5rem,2vw,1rem); text-align: center; z-index: 2; padding: clamp(16px,5vw,40px); width: 100%; }
.s2-family-row { display: flex; align-items: center; justify-content: center; gap: clamp(6px,2vw,14px); width: 90%; }
.s2-family-card { flex: 1; display: flex; flex-direction: column; align-items: center; gap: clamp(6px,2vw,10px); }
.s2-photo { width: clamp(70px,22vw,110px); height: clamp(70px,22vw,110px); border-radius: 50%; position: relative; }
.s2-photo-inner { width: 100%; height: 100%; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: clamp(1.8rem,6vw,3rem); position: relative; overflow: hidden; }
.s2-photo-inner.pa { background: radial-gradient(135deg, #1C3A28, #3D7055 60%, #254D35); }
.s2-photo-inner.pb { background: radial-gradient(135deg, #1A4A32, #2E6648 60%, #1C3A28); }
.s2-photo-ring { position: absolute; inset: -8px; border-radius: 50%; border: 1px solid rgba(154,128,64,.35); }
.s2-photo-ring::before { content: ''; position: absolute; inset: 6px; border-radius: 50%; border: 1px dashed rgba(109,171,138,.2); animation: rotateSlow 20s linear infinite; }
.s2-pname { font-family: 'Cormorant Garamond', serif; font-size: clamp(0.9rem,3.2vw,1.3rem); font-style: italic; color: #fff; }
.s2-ppar { font-size: clamp(0.45rem,1.6vw,0.6rem); color: rgba(255,255,255,.4); line-height: 1.7; text-align: center; }
.s2-and-wrap { display: flex; flex-direction: column; align-items: center; gap: clamp(4px,1.5vw,8px); flex-shrink: 0; }
.s2-and-char { font-family: 'Amiri', serif; font-size: clamp(2rem,7vw,3rem); color: #9A8040; animation: heartBeat 2.4s ease infinite; }
.s2-main-names { font-family: 'Cormorant Garamond', serif; font-size: clamp(2rem,8.5vw,3.4rem); font-weight: 300; line-height: 1; color: #fff; text-align: center; letter-spacing: 0.02em; }
.s2-main-names em { color: #9A8040; font-style: italic; }
.s2-date-badge { display: inline-block; padding: clamp(4px,1.5vw,7px) clamp(14px,4vw,24px); border: 1px solid rgba(154,128,64,.4); font-size: clamp(0.5rem,1.8vw,0.65rem); letter-spacing: 0.3em; text-transform: uppercase; color: #D9C88A; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCENE 3 & 4 â€” EVENT INFO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#s3, #s4 { background: linear-gradient(170deg, #091409 0%, #122A18 50%, #091409 100%); }
.s3-mosque-silhouette { position: absolute; bottom: 0; left: 0; right: 0; height: 45%; opacity: 0.07; }
.s4-lanterns { position: absolute; top: 0; left: 0; right: 0; height: 50%; pointer-events: none; overflow: hidden; }
.s3-content { display: flex; flex-direction: column; align-items: center; gap: clamp(0.6rem,2.2vw,1.1rem); text-align: center; z-index: 2; padding: clamp(20px,6vw,50px); width: 100%; }
.event-chip { display: inline-block; padding: clamp(3px,1vw,5px) clamp(10px,3vw,16px); font-size: clamp(0.45rem,1.6vw,0.6rem); letter-spacing: 0.36em; text-transform: uppercase; border: 1px solid rgba(109,171,138,.5); color: #6DAB8A; }
.event-title-big { font-family: 'Cormorant Garamond', serif; font-size: clamp(2rem,8vw,3.2rem); font-weight: 300; font-style: italic; color: #fff; line-height: 1.1; }
.event-arabic { font-family: 'Amiri', serif; font-size: clamp(1rem,4vw,1.6rem); color: #D9C88A; direction: rtl; }
.event-info-card { background: rgba(255,255,255,.04); border: 1px solid rgba(154,128,64,.2); padding: clamp(14px,4vw,28px) clamp(20px,6vw,40px); width: 88%; position: relative; }
.event-info-card::before { content: ''; position: absolute; top:0; left:50%; transform:translateX(-50%); width: 60%; height: 1px; background: linear-gradient(90deg,transparent,#9A8040,transparent); }
.event-info-row { display: flex; align-items: center; justify-content: center; gap: clamp(6px,2vw,12px); margin-bottom: clamp(6px,2vw,10px); }
.event-info-row:last-child { margin-bottom: 0; }
.ev-icon { color: #6DAB8A; font-size: clamp(0.7rem,2.4vw,0.9rem); width: 16px; }
.ev-text { font-size: clamp(0.6rem,2.2vw,0.82rem); color: rgba(255,255,255,.75); letter-spacing: 0.06em; }
.ev-text strong { color: #fff; font-weight: 500; }
.ev-sep { width: 100%; height: 1px; background: rgba(154,128,64,.12); margin: clamp(6px,2vw,10px) 0; }
.btn-map-mini { display: inline-flex; align-items: center; gap: 6px; margin-top: clamp(6px,2vw,12px); padding: clamp(5px,1.5vw,8px) clamp(14px,4vw,22px); border: 1px solid rgba(109,171,138,.4); color: #6DAB8A; text-decoration: none; font-size: clamp(0.45rem,1.6vw,0.6rem); letter-spacing: 0.22em; text-transform: uppercase; transition: all .3s; }
.btn-map-mini:hover { background: rgba(109,171,138,.1); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCENE 5 â€” NASIHAT (11 Quotes)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#s5 { background: linear-gradient(165deg, #091409 0%, #122A18 60%, #0A1A0D 100%); }
.s5-content { display: flex; flex-direction: column; align-items: center; gap: clamp(0.6rem,2vw,1rem); text-align: center; z-index: 2; padding: clamp(20px,6vw,50px); width: 100%; }
.qslide-wrap { width: 90%; position: relative; background: rgba(255,255,255,.04); border: 1px solid rgba(154,128,64,.18); padding: clamp(16px,5vw,28px) clamp(14px,4.5vw,24px); }
.qslide-wrap::before { content: '"'; position: absolute; font-family: 'Cormorant Garamond', serif; font-size: clamp(4rem,12vw,7rem); color: #9A8040; opacity: .18; line-height: .4; top: clamp(14px,4vw,22px); left: clamp(14px,4vw,22px); }
.qs-left-bar { position: absolute; top:0; left:0; bottom:0; width:4px; background: repeating-linear-gradient(180deg, #3D7055 0, #3D7055 6px, #6DAB8A 6px, #6DAB8A 12px, #9A8040 12px, #9A8040 18px, #1C3A28 18px, #1C3A28 24px); }
.qs-text { font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: clamp(0.72rem, 2.6vw, 0.95rem); color: rgba(255,255,255,.88); line-height: 1.8; position: relative; z-index: 1; margin-left: 6px; }
.qs-src { margin-top: clamp(8px,2.5vw,14px); font-size: clamp(0.45rem,1.6vw,0.6rem); letter-spacing: 0.22em; text-transform: uppercase; color: #9A8040; position: relative; z-index:1; }
.qs-src small { display: block; opacity: .5; font-size: clamp(0.4rem,1.4vw,0.52rem); letter-spacing: .08em; text-transform: none; margin-top: 2px; }
.qs-dots { display: flex; flex-wrap: wrap; gap: 6px; justify-content: center; margin-top: clamp(8px,2.5vw,14px); width: 80%; }
.qs-dot { width: 5px; height: 5px; border-radius: 50%; background: rgba(154,128,64,.28); cursor: pointer; border: none; padding: 0; transition: background .3s, transform .3s; }
.qs-dot.on { background: #9A8040; transform: scale(1.6); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCENE 6 â€” DOAS / WISHES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#s6 { background: linear-gradient(165deg, #0A1A0D 0%, #0E2518 100%); overflow-y: auto; }
.s6-content { display: flex; flex-direction: column; align-items: center; gap: clamp(0.6rem,2vw,1rem); text-align: center; z-index: 2; padding: clamp(16px,5vw,40px) clamp(16px,5vw,28px); width: 100%; min-height: 100%; }
.wish-form-mini { width: 90%; background: rgba(255,255,255,.04); border: 1px solid rgba(154,128,64,.2); padding: clamp(12px,4vw,22px); position: relative; }
.wish-form-mini::before { content:''; position:absolute; top:0;left:0;bottom:0; width:4px; background: linear-gradient(180deg,#3D7055,#6DAB8A,#9A8040,#1C3A28); }
.wf-input { width: 100%; padding: clamp(8px,2.5vw,11px) clamp(10px,3vw,14px); background: rgba(255,255,255,.05); border: 1px solid rgba(154,128,64,.2); color: #fff; font-family: 'Jost',sans-serif; font-size: clamp(0.65rem,2.2vw,0.8rem); outline: none; margin-bottom: clamp(6px,2vw,10px); transition: border-color .3s; border-radius: 0; -webkit-appearance:none; }
.wf-input:focus { border-color: #6DAB8A; }
.wf-input::placeholder { color: rgba(255,255,255,.25); }
.wf-textarea { height: clamp(60px,18vw,80px); resize: none; }
.wf-btn { width: 100%; padding: clamp(8px,2.5vw,11px); background: #1C3A28; color: #D9C88A; border: 1px solid rgba(154,128,64,.3); font-family: 'Jost',sans-serif; font-size: clamp(0.5rem,1.8vw,0.65rem); letter-spacing: 0.3em; text-transform: uppercase; cursor: pointer; display:flex; align-items:center; justify-content:center; gap:8px; transition: background .3s; }
.wf-btn:hover { background: #254D35; }
.wish-list { width: 90%; max-height: clamp(100px,28vw,160px); overflow-y: auto; text-align: left; scrollbar-width: thin; scrollbar-color: #3D7055 transparent; }
.wi { padding: clamp(7px,2.2vw,11px) 0; border-bottom: 1px solid rgba(154,128,64,.1); animation: fadeInUp .5s; }
.wi:last-child { border-bottom: none; }
.wi-name { font-size: clamp(0.52rem,1.8vw,0.68rem); letter-spacing:.1em; text-transform:uppercase; color: #6DAB8A; font-weight:500; margin-bottom:2px; }
.wi-msg { font-size: clamp(0.58rem,2vw,0.74rem); color: rgba(255,255,255,.5); line-height:1.65; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCENE 7 â€” CLOSING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#s7 { background: radial-gradient(ellipse at 50% 40%, #0E2518 0%, #091409 70%, #030905 100%); }
.s7-content { display:flex; flex-direction:column; align-items:center; gap:clamp(0.8rem,2.5vw,1.4rem); text-align:center; z-index:2; padding: clamp(20px,6vw,50px); }
.s7-names { font-family: 'Cormorant Garamond', serif; font-size: clamp(2.5rem,10vw,4rem); font-weight:300; line-height:1; color:#fff; }
.s7-names em { color:#9A8040; font-style:italic; }
.s7-and { font-family: 'Amiri', serif; font-size: clamp(1.4rem,5vw,2rem); color: #6DAB8A; display:block; margin:0.2em 0; }
.btn-wa-big { display:inline-flex; align-items:center; gap:10px; padding: clamp(10px,3vw,14px) clamp(16px,5vw,30px); background: #1C3A28; border: 1px solid rgba(154,128,64,.4); color:#D9C88A; text-decoration:none; font-size: clamp(0.5rem,1.8vw,0.65rem); letter-spacing:.22em; text-transform:uppercase; transition: all .3s; }
.btn-wa-big:hover { background:#254D35; }
.s7-footer-note { font-size: clamp(0.42rem,1.5vw,0.58rem); color: rgba(255,255,255,.2); letter-spacing:.1em; margin-top: clamp(4px,1.5vw,8px); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BOTTOM NAV & HINT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#nav { position: absolute; right: clamp(7px,2.5vw,14px); top: 50%; transform: translateY(-50%); display: flex; flex-direction:column; gap: clamp(6px,2vw,10px); z-index: 50; }
.nav-dot { width: clamp(5px,1.8vw,7px); height: clamp(5px,1.8vw,7px); border-radius: 50%; background: rgba(255,255,255,.18); cursor: pointer; transition: all .4s; border:none; padding:0; -webkit-tap-highlight-color:transparent; }
.nav-dot.on { background: #9A8040; box-shadow: 0 0 10px rgba(154,128,64,.5); transform: scale(1.35); }
.swipe-hint { position: absolute; bottom: clamp(12px,3.5vw,22px); left: 50%; transform: translateX(-50%); display: flex; flex-direction:row; align-items:center; color: rgba(109,171,138,.6); font-size: clamp(0.5rem,1.8vw,0.65rem); letter-spacing:.15em; text-transform:uppercase; z-index: 4; pointer-events:none; animation: bob 2s ease-in-out infinite; white-space: nowrap; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SECTION HEADING SYSTEM
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.sec-label { font-size: clamp(0.48rem,1.7vw,0.6rem); letter-spacing:.4em; text-transform:uppercase; color: #6DAB8A; }
.sec-title { font-family: 'Cormorant Garamond', serif; font-size: clamp(1.5rem,6vw,2.4rem); font-weight:300; color:#fff; line-height:1.15; }
.sec-orn { display:flex; align-items:center; gap:8px; justify-content:center; }
.sec-orn::before,.sec-orn::after { content:''; flex:1; max-width:clamp(30px,8vw,55px); height:1px; background:linear-gradient(90deg,transparent,#9A8040,transparent); }
.sec-orn-dot { width:6px; height:6px; background:#9A8040; border-radius:50%; position:relative; flex-shrink:0; }
.sec-orn-dot::before,.sec-orn-dot::after { content:''; position:absolute; width:3.5px; height:3.5px; background:#BBA060; border-radius:50%; top:50%; transform:translateY(-50%); }
.sec-orn-dot::before { right:calc(100% + 4px); }
.sec-orn-dot::after  { left:calc(100% + 4px); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ANIMATIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@keyframes fadeInUp { from { opacity:0; transform:translateY(28px); } to { opacity:1; transform:translateY(0); } }
@keyframes fadeInDown { from { opacity:0; transform:translateY(-20px); } to { opacity:1; transform:translateY(0); } }
@keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
@keyframes rotateSlow { to { transform:rotate(360deg); } }
@keyframes heartBeat { 0%,100%{transform:scale(1)} 15%{transform:scale(1.22)} 30%{transform:scale(1)} 45%{transform:scale(1.1)} }
@keyframes scaleIn { from { opacity:0; transform:scale(.85); } to { opacity:1; transform:scale(1); } }
@keyframes slideInLeft { from { opacity:0; transform:translateX(-30px); } to { opacity:1; transform:translateX(0); } }
@keyframes slideInRight { from { opacity:0; transform:translateX(30px); } to { opacity:1; transform:translateX(0); } }
@keyframes bob { 0%,100%{transform:translateX(-50%) translateY(0)} 50%{transform:translateX(-50%) translateY(4px)} }

.scene.active .anim-fade { animation: fadeIn 1s forwards; }
.scene.active .anim-up   { animation: fadeInUp 1s forwards; }
.scene.active .anim-down { animation: fadeInDown .9s forwards; }
.scene.active .anim-scale{ animation: scaleIn .9s forwards; }
.scene.active .anim-left { animation: slideInLeft .9s forwards; }
.scene.active .anim-right{ animation: slideInRight .9s forwards; }

.d0 { animation-delay:0s !important; } .d1 { animation-delay:.18s !important; } .d2 { animation-delay:.36s !important; }
.d3 { animation-delay:.54s !important; } .d4 { animation-delay:.72s !important; } .d5 { animation-delay:.9s !important; } .d6 { animation-delay:1.1s !important; }

.scene .anim-fade,.scene .anim-up,.scene .anim-down,.scene .anim-scale,.scene .anim-left,.scene .anim-right { opacity: 0; animation-fill-mode: forwards; }

.glow-a { position:absolute; border-radius:50%; background: radial-gradient(circle, rgba(61,112,85,.22) 0%, transparent 70%); pointer-events:none; animation: glowPulse 6s ease-in-out infinite; }
@keyframes glowPulse { 0%,100%{opacity:.6; transform:scale(1)} 50%{opacity:1; transform:scale(1.15)} }
.istar-wrap { position:relative; display:inline-flex; align-items:center; justify-content:center; }
#noise { position:absolute; inset:0; pointer-events:none; z-index:99; opacity:.28; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='.03'/%3E%3C/svg%3E"); }
.ripple { position:absolute; border-radius:50%; background: rgba(109,171,138,.25); transform: scale(0); pointer-events:none; animation: rippleOut .7s forwards; z-index:200; }
@keyframes rippleOut { to { transform:scale(4); opacity:0; } }

#audio-btn { position:absolute; top:clamp(10px,3vw,18px); right:clamp(10px,3vw,18px); width:clamp(36px,10vw,44px); height:clamp(36px,10vw,44px); border-radius:50%; background: rgba(28,58,40,.8); border: 1px solid rgba(154,128,64,.4); color:#D9C88A; font-size:clamp(0.7rem,2.2vw,0.85rem); display:flex; align-items:center; justify-content:center; cursor:pointer; z-index:60; backdrop-filter:blur(10px); -webkit-tap-highlight-color:transparent; transition:all .3s; }
#audio-btn:hover { background:rgba(61,112,85,.6); }
#audio-btn.playing i { animation:spin 3s linear infinite; }

#prog { position:absolute; top:0; left:0; height:2px; width:0; background: linear-gradient(90deg,#3D7055,#9A8040,#6DAB8A); z-index:60; transition: width .6s var(--ease,cubic-bezier(.4,0,.2,1)); }
</style>
</head>
<body>

<div id="stage">
<div id="film">

  <div id="prog"></div>
  <div id="noise"></div>
  
  <div id="bg-canvas">
    <div class="adat-pattern"></div>
    </div>

  <audio id="bgm" loop preload="none">
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
  </audio>
  <button id="audio-btn" onclick="toggleAudio()" aria-label="Putar musik">
    <i class="fas fa-music"></i>
  </button>

  <nav id="nav" aria-label="Navigasi scene"></nav>

  <section class="scene active" id="s0" onclick="openInvitation(event)">
    <div class="envelope-wrap">
      <p class="s0-bismillah">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…</p>
      <div class="s0-envelope">
        <svg viewBox="0 0 200 144" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="width:100%;height:100%">
          <rect x="1" y="1" width="198" height="142" rx="4" fill="#0E2518" stroke="rgba(154,128,64,.6)" stroke-width="1.5"/>
          <rect x="8" y="8" width="184" height="128" rx="2" fill="none" stroke="rgba(109,171,138,.2)" stroke-width=".8"/>
          <path d="M1,1 L100,78 L199,1 Z" fill="#122A18" stroke="rgba(154,128,64,.5)" stroke-width="1.2"><animate attributeName="d" values="M1,1 L100,78 L199,1 Z;M1,1 L100,30 L199,1 Z;M1,1 L100,1 L199,1 Z" dur="1.5s" begin="3s" fill="freeze"/></path>
          <g transform="translate(100,50)"><circle r="18" fill="#1C3A28" stroke="rgba(154,128,64,.5)" stroke-width="1"/><polygon points="0,-13 3,-4.5 11,-8 5,0 11,8 3,4.5 0,13 -3,4.5 -11,8 -5,0 -11,-8 -3,-4.5" fill="#9A8040" opacity=".8"><animateTransform attributeName="transform" type="rotate" from="0" to="360" dur="12s" repeatCount="indefinite"/></polygon><circle r="4" fill="#D9C88A" opacity=".7"/><animate attributeName="opacity" values="1;0" dur=".3s" begin="3.8s" fill="freeze"/></g>
          <path d="M1,142 L70,80 M199,142 L130,80" stroke="rgba(154,128,64,.3)" stroke-width=".8"/>
        </svg>
      </div>
      <p class="s0-tagline">Undangan Pernikahan</p>
      <div class="s0-names"><span>Ahmad</span><em class="s0-and">&</em><span>Siti</span></div>
      <p class="s0-tap">âœ¦ Ketuk untuk membuka âœ¦</p>
    </div>
  </section>

  <section class="scene" id="s1">
    <div class="glow-a" style="width:70%;height:50%;top:25%;left:15%;"></div>
    <div class="s1-border" aria-hidden="true"></div>
    <div class="s1-content">
      <p class="sec-label anim-down d0"></p>
      <div class="istar-wrap anim-scale d0"><svg width="52" height="52" viewBox="0 0 52 52" aria-hidden="true"><g transform="translate(26,26)"><polygon points="0,-20 4.7,-7.7 18,-14 7.7,0 18,14 4.7,7.7 0,20 -4.7,7.7 -18,14 -7.7,0 -18,-14 -4.7,-7.7" fill="#9A8040" opacity=".7"><animateTransform attributeName="transform" type="rotate" from="0" to="360" dur="22s" repeatCount="indefinite"/></polygon><circle r="7" fill="#D9C88A" opacity=".5"/><circle r="3" fill="#9A8040"/></g></svg></div>
      <p class="s1-arabic anim-fade d1">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…</p>
      <div class="s1-divider anim-scale d2"></div>
      <p class="s1-ayat anim-up d3">"Dan di antara tanda-tanda kekuasaan-Nya ialah Dia menciptakan untukmu isteri-isteri dari jenismu sendiri, supaya kamu cenderung dan merasa tenteram kepadanya..."</p>
      <span class="s1-ref anim-fade d4">QS. Ar-Rum: 21</span>
      <div class="sec-orn anim-scale d5"><div class="sec-orn-dot"></div></div>
    </div>
    <div class="swipe-hint" aria-hidden="true"><span>â€¹ Ketuk Kiri Â |Â  Kanan â€º</span></div>
  </section>

  <section class="scene" id="s2">
    <div class="s2-bg-circle" style="width:80%;height:60%;top:10%;left:10%"></div>
    <div class="s2-content">
      <p class="sec-label anim-down d0">Dengan Ridha Allah ï·»</p>
      <h2 class="sec-title anim-up d1">Kami Mengundang</h2>
      <div class="sec-orn anim-scale d2"><div class="sec-orn-dot"></div></div>
      <div class="s2-family-row anim-fade d2">
        <div class="s2-family-card anim-left d3">
          <div class="s2-photo"><div class="s2-photo-ring"></div><div class="s2-photo-inner pa"><svg width="44" height="44" viewBox="0 0 44 44" aria-hidden="true"><g transform="translate(22,22)"><ellipse rx="4" ry="10" fill="#6DAB8A" opacity=".85"/><ellipse rx="4" ry="10" fill="#3D7055" opacity=".85" transform="rotate(45)"/><ellipse rx="4" ry="10" fill="#6DAB8A" opacity=".85" transform="rotate(90)"/><circle r="5" fill="#D9C88A"/></g></svg></div></div>
          <p class="s2-pname">Ahmad Rizky, S.T.</p><p class="s2-ppar">Putra dari<br>Bapak Fulan & Ibu Fulanah</p>
        </div>
        <div class="s2-and-wrap anim-scale d4"><div style="width:1px;height:clamp(20px,6vw,36px);background:rgba(154,128,64,.3)"></div><div class="s2-and-char">&</div><svg class="rings-svg" width="54" height="24" viewBox="0 0 54 24" aria-hidden="true"><circle cx="16" cy="12" r="10" fill="none" stroke="#9A8040" stroke-width="2"/><circle cx="38" cy="12" r="10" fill="none" stroke="#6DAB8A" stroke-width=".8" stroke-dasharray="3,3"><animateTransform attributeName="transform" type="rotate" from="0 38 12" to="360 38 12" dur="6s" repeatCount="indefinite"/></circle></svg><div style="width:1px;height:clamp(20px,6vw,36px);background:rgba(154,128,64,.3)"></div></div>
        <div class="s2-family-card anim-right d3">
          <div class="s2-photo"><div class="s2-photo-ring"></div><div class="s2-photo-inner pb"><svg width="44" height="44" viewBox="0 0 44 44" aria-hidden="true"><g transform="translate(22,22)" opacity=".9"><circle cx="-10" cy="0" r="9" fill="none" stroke="#BBA060" stroke-width="1.5"/><circle cx="10" cy="0" r="9" fill="none" stroke="#BBA060" stroke-width="1.5"/><circle r="4" fill="#D9C88A"/></g></svg></div></div>
          <p class="s2-pname">Siti Aminah, S.E.</p><p class="s2-ppar">Putri dari<br>Bapak Fulan & Ibu Fulanah</p>
        </div>
      </div>
      <h2 class="s2-main-names anim-up d5"><em>Ahmad</em><span class="s2-and-char" style="font-size:clamp(1.2rem,4.5vw,1.8rem)">&</span><em>Siti</em></h2>
      <div class="s2-date-badge anim-fade d6">20 â€“ 21 Oktober 2026</div>
    </div>
    <div class="swipe-hint" aria-hidden="true"><span>â€¹ Ketuk Kiri Â |Â  Kanan â€º</span></div>
  </section>

  <section class="scene" id="s3">
    <svg class="s3-mosque-silhouette" viewBox="0 0 400 300" preserveAspectRatio="xMidYMax meet" aria-hidden="true">
      <g fill="#6DAB8A"><ellipse cx="200" cy="120" rx="80" ry="70"/><rect x="120" y="120" width="160" height="180"/><rect x="70" y="80" width="28" height="220"/><ellipse cx="84" cy="80" rx="14" ry="20"/><rect x="302" y="80" width="28" height="220"/><ellipse cx="316" cy="80" rx="14" ry="20"/><path d="M200,50 A14,14 0 1,0 214,50 A10,10 0 1,1 200,50" fill="#D9C88A"/><path d="M175,300 L175,190 Q200,170 225,190 L225,300 Z"/><rect x="145" y="160" width="25" height="30" rx="12"/><rect x="230" y="160" width="25" height="30" rx="12"/></g>
    </svg>
    <div class="s3-content">
      <div class="istar-wrap anim-scale d0"><svg width="44" height="44" viewBox="0 0 44 44" aria-hidden="true"><g transform="translate(22,22)"><polygon points="0,-17 4,-6.5 15,-11 6.5,0 15,11 4,6.5 0,17 -4,6.5 -15,11 -6.5,0 -15,-11 -4,-6.5" fill="#9A8040" opacity=".7"><animateTransform attributeName="transform" type="rotate" from="0" to="360" dur="18s" repeatCount="indefinite"/></polygon><circle r="5" fill="#D9C88A" opacity=".6"/></g></svg></div>
      <span class="event-chip anim-fade d1">Acara Pertama</span>
      <h2 class="event-title-big anim-up d2">Akad Nikah</h2>
      <p class="event-arabic anim-fade d3">Ø¹ÙÙ‚Ù’Ø¯Ù Ø§Ù„Ù†ÙÙ‘ÙƒÙØ§Ø­Ù</p>
      <div class="sec-orn anim-scale d3"><div class="sec-orn-dot"></div></div>
      <div class="event-info-card anim-up d4">
        <div class="event-info-row"><span class="ev-icon">ğŸ“…</span><span class="ev-text"><strong>Jumat, 20 Oktober 2026</strong></span></div>
        <div class="event-info-row"><span class="ev-icon">ğŸ•—</span><span class="ev-text">08.00 WITA â€” Selesai</span></div>
        <div class="ev-sep"></div>
        <div class="event-info-row"><span class="ev-icon">ğŸ•Œ</span><span class="ev-text"><strong>Masjid Raya Sabilal Muhtadin</strong></span></div>
        <div class="event-info-row"><span class="ev-icon">ğŸ“</span><span class="ev-text">Jl. Jend Sudirman No.1, Banjarmasin</span></div>
        <a href="https://maps.google.com" target="_blank" rel="noopener" class="btn-map-mini"><span>ğŸ—º</span> <span>Lihat di Google Maps</span></a>
      </div>
    </div>
    <div class="swipe-hint" aria-hidden="true"><span>â€¹ Ketuk Kiri Â |Â  Kanan â€º</span></div>
  </section>

  <section class="scene" id="s4">
    <div class="s4-lanterns" aria-hidden="true">
      <svg viewBox="0 0 400 320" width="100%" height="100%" fill="none">
        <line x1="80" y1="0" x2="80" y2="120" stroke="rgba(154,128,64,.25)" stroke-width=".8"/><line x1="200" y1="0" x2="200" y2="100" stroke="rgba(154,128,64,.25)" stroke-width=".8"/><line x1="320" y1="0" x2="320" y2="130" stroke="rgba(154,128,64,.25)" stroke-width=".8"/><line x1="140" y1="0" x2="140" y2="80" stroke="rgba(154,128,64,.15)" stroke-width=".6"/><line x1="260" y1="0" x2="260" y2="90" stroke="rgba(154,128,64,.15)" stroke-width=".6"/>
        <g transform="translate(80,120)"><ellipse rx="18" ry="28" fill="#1C3A28" stroke="rgba(154,128,64,.5)" stroke-width="1"/><ellipse rx="12" ry="20" fill="rgba(109,171,138,.08)"/><animate attributeName="transform" values="translate(80,120) rotate(-3);translate(80,120) rotate(3);translate(80,120) rotate(-3)" dur="5s" repeatCount="indefinite"/></g>
        <g transform="translate(200,100)"><ellipse rx="22" ry="34" fill="#122A18" stroke="rgba(154,128,64,.55)" stroke-width="1.2"/><ellipse rx="14" ry="24" fill="rgba(109,171,138,.1)"/><animate attributeName="transform" values="translate(200,100) rotate(2);translate(200,100) rotate(-2);translate(200,100) rotate(2)" dur="4.5s" repeatCount="indefinite"/></g>
        <g transform="translate(320,130)"><ellipse rx="16" ry="26" fill="#1C3A28" stroke="rgba(154,128,64,.45)" stroke-width="1"/><ellipse rx="10" ry="18" fill="rgba(109,171,138,.07)"/><animate attributeName="transform" values="translate(320,130) rotate(-2);translate(320,130) rotate(4);translate(320,130) rotate(-2)" dur="6s" repeatCount="indefinite"/></g>
      </svg>
    </div>
    <div class="s3-content" style="padding-top:clamp(100px,32vw,160px)">
      <div class="istar-wrap anim-scale d0"><svg width="40" height="40" viewBox="0 0 40 40" aria-hidden="true"><g transform="translate(20,20)"><polygon points="0,-15 3.5,-5.7 13.5,-10 5.7,0 13.5,10 3.5,5.7 0,15 -3.5,5.7 -13.5,10 -5.7,0 -13.5,-10 -3.5,-5.7" fill="#9A8040" opacity=".7"><animateTransform attributeName="transform" type="rotate" from="0" to="360" dur="16s" repeatCount="indefinite"/></polygon><circle r="4.5" fill="#D9C88A" opacity=".55"/></g></svg></div>
      <span class="event-chip anim-fade d1">Acara Kedua</span>
      <h2 class="event-title-big anim-up d2">Walimatul 'Ursy</h2>
      <p class="event-arabic anim-fade d3">ÙˆÙÙ„ÙÙŠÙ…ÙØ©Ù Ø§Ù„Ù’Ø¹ÙØ±Ù’Ø³Ù</p>
      <div class="sec-orn anim-scale d3"><div class="sec-orn-dot"></div></div>
      <div class="event-info-card anim-up d4">
        <div class="event-info-row"><span class="ev-icon">ğŸ“…</span><span class="ev-text"><strong>Sabtu, 21 Oktober 2026</strong></span></div>
        <div class="event-info-row"><span class="ev-icon">ğŸ•™</span><span class="ev-text">10.00 WITA â€” Selesai</span></div>
        <div class="ev-sep"></div>
        <div class="event-info-row"><span class="ev-icon">ğŸ›</span><span class="ev-text"><strong>Gedung Serbaguna Banjarbaru</strong></span></div>
        <div class="event-info-row"><span class="ev-icon">ğŸ“</span><span class="ev-text">Jl. Panglima Batur, Banjarbaru Utara</span></div>
        <a href="https://maps.google.com" target="_blank" rel="noopener" class="btn-map-mini"><span>ğŸ—º</span> <span>Lihat di Google Maps</span></a>
      </div>
    </div>
    <div class="swipe-hint" aria-hidden="true"><span>â€¹ Ketuk Kiri Â |Â  Kanan â€º</span></div>
  </section>

  <section class="scene" id="s5">
    <div class="s5-content">
      <p class="sec-label anim-down d0">Mutiara Hikmah</p>
      <h2 class="sec-title anim-up d1">Nasihat Pernikahan</h2>
      <div class="sec-orn anim-scale d2"><div class="sec-orn-dot"></div></div>
      <div class="qslide-wrap anim-up d3" id="qwrap"><div class="qs-left-bar"></div><div id="qs-inner"></div></div>
      <div class="qs-dots anim-fade d4" id="qsdots"></div>
    </div>
    <div class="swipe-hint" aria-hidden="true"><span>â€¹ Ketuk Kiri Â |Â  Kanan â€º</span></div>
  </section>

  <section class="scene" id="s6">
    <div class="s6-content">
      <p class="sec-label anim-down d0">Buku Tamu</p>
      <h2 class="sec-title anim-up d1">Sampaikan Doa</h2>
      <div class="sec-orn anim-scale d2"><div class="sec-orn-dot"></div></div>
      <div class="wish-form-mini anim-up d3">
        <form onsubmit="addWish(event)" novalidate>
          <input class="wf-input" type="text" id="guestName" placeholder="Nama Anda" required autocomplete="name" aria-label="Nama Anda">
          <textarea class="wf-input wf-textarea" id="guestMsg" placeholder="Tulis doa atau ucapan selamat..." required aria-label="Pesan ucapan"></textarea>
          <button type="submit" class="wf-btn"><span>âœ‰</span><span>Kirim Ucapan</span></button>
        </form>
      </div>
      <div class="wish-list anim-fade d4" id="wish-list">
        <div class="wi"><p class="wi-name">Keluarga Besar</p><p class="wi-msg">Barakallahu laka wa baraka 'alaika wa jama'a bainakuma fii khair.</p></div>
      </div>
    </div>
  </section>

  <section class="scene" id="s7">
    <div class="glow-a" style="width:80%;height:60%;top:20%;left:10%;"></div>
    <div class="s7-content">
      <div class="anim-scale d0" style="display:flex;align-items:center;gap:clamp(8px,3vw,16px)">
        <div style="height:1px;width:clamp(30px,8vw,50px);background:rgba(154,128,64,.3)"></div>
        <svg width="44" height="44" viewBox="0 0 44 44" aria-hidden="true"><g transform="translate(22,22)"><polygon points="0,-18 4.2,-7 15.6,-12.5 7,0 15.6,12.5 4.2,7 0,18 -4.2,7 -15.6,12.5 -7,0 -15.6,-12.5 -4.2,-7" fill="#9A8040" opacity=".75"><animateTransform attributeName="transform" type="rotate" from="360" to="0" dur="28s" repeatCount="indefinite"/></polygon><circle r="6" fill="#D9C88A" opacity=".6"/></g></svg>
        <div style="height:1px;width:clamp(30px,8vw,50px);background:rgba(154,128,64,.3)"></div>
      </div>
      <p class="s7-closing-label anim-down d1">Dengan Penuh Cinta</p>
      <div class="s7-names anim-up d2"><em>Ahmad</em><span class="s7-and">&</span><em>Siti</em></div>
      <p class="s7-tagline anim-fade d3" style="font-family:'Cormorant Garamond',serif;font-style:italic;font-size:clamp(0.75rem,2.8vw,1rem);color:rgba(217,200,138,.55);letter-spacing:0.08em;">Sakinah Â· Mawaddah Â· Warahmah</p>
      <div class="sec-orn anim-scale d4"><div class="sec-orn-dot"></div></div>
      <a href="https://wa.me/6281234567890?text=Assalamu'alaikum%2C%20saya%20ingin%20mengkonfirmasi%20kehadiran%20%2F%20berkoordinasi%20terkait%20tanda%20kasih%20untuk%20pernikahan%20Ahmad%20%26%20Siti." target="_blank" rel="noopener" class="btn-wa-big anim-up d5">
        <span>ğŸ’¬</span><span>Konfirmasi & Tanda Kasih</span>
      </a>
      <p class="s7-footer-note anim-fade d6">Â© 2026 Â· Didesain dengan cinta & doa</p>
    </div>
  </section>

</div></div><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" media="print" onload="this.media='all'">

<script>
'use strict';

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GENERATOR BUNGA JATUH (Melati & Kenanga Style)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function initFlowers() {
  const container = document.getElementById('bg-canvas');
  // 16 kelopak bunga agar menyebar rata tapi tidak mengganggu pandangan
  for(let i=0; i<16; i++) {
    let f = document.createElement('div');
    f.className = 'bunga-gugur';
    f.style.left = (Math.random() * 100) + '%';
    f.style.setProperty('--dur', (12 + Math.random() * 18) + 's');
    f.style.setProperty('--del', '-' + (Math.random() * 10) + 's');
    f.style.setProperty('--op', (0.05 + Math.random() * 0.1)); // Sangat transparan (5% - 15%)
    f.style.setProperty('--drift', (Math.random() * 100 - 50) + 'px');
    let size = 12 + Math.random() * 14;
    f.style.width = size + 'px';
    f.style.height = size + 'px';
    container.appendChild(f);
  }
}
initFlowers();

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCENE MANAGER & STABILITY LOCK
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const SCENES = document.querySelectorAll('.scene');
const NAV    = document.getElementById('nav');
const PROG   = document.getElementById('prog');
const TOTAL  = SCENES.length - 1; 

let current = 0; 
let isLocked = false; 
const EASE = 'cubic-bezier(.4,0,.2,1)';

for (let i = 1; i < SCENES.length; i++) {
  const btn = document.createElement('button');
  btn.className = 'nav-dot';
  btn.setAttribute('aria-label', 'Scene ' + i);
  btn.onclick = (e) => { e.stopPropagation(); goTo(i); };
  NAV.appendChild(btn);
}

function updateNav(idx) {
  document.querySelectorAll('.nav-dot').forEach((d, i) => { d.classList.toggle('on', i === idx - 1); });
  const pct = TOTAL > 1 ? ((idx - 1) / (TOTAL - 1)) * 100 : 0;
  PROG.style.width = (idx === 0 ? 0 : pct) + '%';
}

function resetAnimations(scene) {
  scene.querySelectorAll('.anim-fade,.anim-up,.anim-down,.anim-scale,.anim-left,.anim-right').forEach(el => { el.style.animation = 'none'; el.style.opacity = '0'; });
}

function playAnimations(scene) {
  void scene.offsetWidth; // Force reflow
  scene.querySelectorAll('.anim-fade,.anim-up,.anim-down,.anim-scale,.anim-left,.anim-right').forEach(el => { el.style.animation = ''; el.style.opacity = ''; });
}

function goTo(idx) {
  if (idx === current || isLocked) return;
  if (idx < 0 || idx >= SCENES.length) return;
  
  isLocked = true; 
  const fromScene = SCENES[current];
  const toScene   = SCENES[idx];
  const direction = (idx > current) ? 1 : -1;
  current = idx;

  resetAnimations(toScene);

  const duration = 700;
  fromScene.style.transition = `opacity ${duration}ms ${EASE}, transform ${duration}ms ${EASE}`;
  toScene.style.transition   = `opacity ${duration}ms ${EASE}, transform ${duration}ms ${EASE}`;

  if (idx > 0) {
    toScene.style.opacity   = '0';
    toScene.style.transform = `translateY(${direction * 40}px)`;
    toScene.style.pointerEvents = 'none';
  }
  toScene.classList.add('active');

  requestAnimationFrame(() => {
    requestAnimationFrame(() => {
      fromScene.style.opacity   = '0';
      fromScene.style.transform = `translateY(${-direction * 30}px)`;
      toScene.style.opacity     = '1';
      toScene.style.transform   = 'translateY(0)';

      setTimeout(() => {
        fromScene.classList.remove('active');
        fromScene.style.opacity   = '';
        fromScene.style.transform = '';
        fromScene.style.transition= '';
        toScene.style.transition  = '';
        toScene.style.pointerEvents = '';
        playAnimations(toScene);
        updateNav(idx);
        setTimeout(() => { isLocked = false; }, 150);
      }, duration);
    });
  });
}

function openInvitation(e) {
  const s0 = document.getElementById('s0');
  if (s0.classList.contains('closing') || isLocked) return;

  const rect = document.getElementById('film').getBoundingClientRect();
  const ripple = document.createElement('div');
  ripple.className = 'ripple';
  ripple.style.cssText = `width:80px;height:80px;left:${(e.clientX || rect.width/2) - rect.left - 40}px;top:${(e.clientY || rect.height/2) - rect.top - 40}px;`;
  document.getElementById('film').appendChild(ripple);
  setTimeout(() => ripple.remove(), 800);

  s0.classList.add('closing');
  NAV.style.display = 'flex';

  setTimeout(() => {
    s0.classList.remove('active', 'closing');
    s0.style.opacity = '0'; s0.style.transform = 'scale(1.1)'; s0.style.pointerEvents = 'none';
    goTo(1);
    if(!playing) toggleAudio();
  }, 800);
}

NAV.style.display = 'none';

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TAP, SWIPE, & EVENT MANAGEMENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let lastSwipeTime = 0;

document.getElementById('film').addEventListener('click', (e) => {
  if (current === 0) return; 
  if (Date.now() - lastSwipeTime < 500) return;
  if (e.target.closest('button, input, textarea, a, #nav, .qs-dots')) return;

  const rect = document.getElementById('film').getBoundingClientRect();
  const clickX = e.clientX - rect.left;
  if (clickX < rect.width * 0.3) goTo(current - 1); 
  else goTo(current + 1);
});

let touchStartX = 0, touchStartY = 0, touchStartTime = 0;
document.getElementById('film').addEventListener('touchstart', e => {
  if (current === 0) return; 
  touchStartX = e.touches[0].clientX;
  touchStartY = e.touches[0].clientY;
  touchStartTime = Date.now();
}, { passive: true });

document.getElementById('film').addEventListener('touchend', e => {
  if (current === 0 || current === 6) return; // S6 dinonaktifkan swipe agar tidak mengganggu ketik teks
  const dy = touchStartY - e.changedTouches[0].clientY;
  const dt = Date.now() - touchStartTime;

  if (dt < 400 && Math.abs(dy) > 40) {
    lastSwipeTime = Date.now();
    if (dy > 0) goTo(current + 1);
    else goTo(current - 1);
  }
}, { passive: true });

let wheelLock = false;
document.getElementById('film').addEventListener('wheel', e => {
  if (current === 0 || wheelLock || isLocked) return;
  wheelLock = true;
  if (e.deltaY > 0) goTo(current + 1); else goTo(current - 1);
  setTimeout(() => wheelLock = false, 900);
}, { passive: true });

document.addEventListener('keydown', e => {
  if(isLocked) return;
  if (e.key === 'ArrowDown' || e.key === 'ArrowRight') goTo(current + 1);
  if (e.key === 'ArrowUp'   || e.key === 'ArrowLeft')  goTo(current - 1);
});

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   11 QUOTE SLIDER (Ulama Klasik, Nusantara & Hadits)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const QUOTES = [
  { text: 'Sebaik-baik kalian adalah yang paling baik terhadap istrinya, dan aku adalah yang paling baik di antara kalian terhadap keluargaku.', src: 'â€” HR. Tirmidzi', ref: 'Hadits Shahih' },
  { text: 'Carilah istri yang salehah, niscaya engkau akan beruntung.', src: 'â€” HR. Bukhari & Muslim', ref: 'Muttafaq \'Alaih' },
  { text: 'Aku belum pernah melihat solusi untuk dua orang yang saling mencintai selain pernikahan.', src: 'â€” HR. Ibnu Majah', ref: 'Hadits Hasan' },
  { text: 'Perempuan itu dinikahi karena empat hal: hartanya, nasabnya, kecantikan, dan agamanya. Pilihlah yang beragama, niscaya engkau beruntung.', src: 'â€” Imam Asy-Syafi\'i', ref: 'Tokoh Fikih Mazhab Syafi\'i' },
  { text: 'Pernikahan adalah separuh dari agama. Maka bertakwalah kepada Allah dalam separuh yang tersisa.', src: 'â€” Imam Al-Ghazali', ref: 'Ihya\' \'Ulumiddin' },
  { text: 'Jika suami memandang istrinya dengan penuh kasih, dan sang istri memandang suaminya dengan penuh kasih, maka Allah memandang keduanya dengan penuh rahmat.', src: 'â€” Ibnu Qayyim Al-Jauziyyah', ref: 'Raudhah Al-Muhibbin' },
  { text: 'Cinta yang didasarkan pada ketakwaan akan abadi. Janganlah engkau menikahkan putrimu kecuali dengan pria yang bertakwa.', src: 'â€” Hasan Al-Basri', ref: 'Ulama Tabi\'in' },
  { text: 'Sakinah bukan berarti tanpa masalah, melainkan saat badai datang, kalian tetap bergandengan tangan menghadapinya bersama.', src: 'â€” Buya Hamka', ref: 'Ulama & Sastrawan Nusantara' },
  { text: 'Pernikahan yang dibangun di atas pondasi ketakwaan kepada Allah akan menjadi bangunan yang paling kokoh di dunia ini.', src: 'â€” Syaikh Ibnu Utsaimin', ref: 'Ulama Kontemporer' },
  { text: 'Menikah itu menumbuhkan cinta, bukan sekadar mencari cinta. Rawatlah ikatan itu dengan kesabaran dan keikhlasan.', src: 'â€” KH. Maimun Zubair (Mbah Moen)', ref: 'Ulama Kharismatik Jawa' },
  { text: 'Istri adalah anugerah terindah. Bimbinglah ia dengan kelembutan, perhatikan hatinya, karena dari ketenangannyalah lahir keturunan yang salih.', src: 'â€” KH. Muhammad Zaini (Guru Sekumpul)', ref: 'Ulama Kharismatik Banjar' }
];

let qi = 0; let qTimer;
function renderQuote(i) {
  const q = QUOTES[i];
  const inner = document.getElementById('qs-inner');
  inner.style.opacity = '0'; inner.style.transform = 'translateY(10px)';
  setTimeout(() => {
    inner.innerHTML = `<p class="qs-text">${q.text}</p><p class="qs-src">${q.src}<small>${q.ref}</small></p>`;
    inner.style.transition = 'opacity .5s, transform .5s';
    requestAnimationFrame(() => { inner.style.opacity = '1'; inner.style.transform = 'translateY(0)'; });
  }, 200);
  document.querySelectorAll('.qs-dot').forEach((d, idx) => { d.classList.toggle('on', idx === i); });
}

function buildQDots() {
  const container = document.getElementById('qsdots');
  container.innerHTML = '';
  QUOTES.forEach((_, i) => {
    const d = document.createElement('button');
    d.className = 'qs-dot' + (i === 0 ? ' on' : ''); d.type = 'button';
    d.onclick = (e) => { e.stopPropagation(); qi = i; renderQuote(i); restartQTimer(); };
    container.appendChild(d);
  });
}

function restartQTimer() {
  clearInterval(qTimer);
  qTimer = setInterval(() => { qi = (qi + 1) % QUOTES.length; renderQuote(qi); }, 6000); // Ganti tiap 6 detik
}
buildQDots(); renderQuote(0); restartQTimer();

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BUKU TAMU & AUDIO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function sanitize(str) { const el = document.createElement('div'); el.textContent = str; return el.innerHTML; }
function addWish(e) {
  e.preventDefault();
  const nameEl = document.getElementById('guestName'); const msgEl = document.getElementById('guestMsg');
  const name = nameEl.value.trim(); const msg = msgEl.value.trim();
  if (!name || !msg) return;
  const item = document.createElement('div'); item.className = 'wi';
  item.innerHTML = '<p class="wi-name">' + sanitize(name) + '</p><p class="wi-msg">' + sanitize(msg) + '</p>';
  document.getElementById('wish-list').prepend(item);
  nameEl.value = ''; msgEl.value = ''; nameEl.focus();
}

let playing = false;
const bgm = document.getElementById('bgm'); const audioBtn = document.getElementById('audio-btn');
function toggleAudio() {
  if (playing) { bgm.pause(); audioBtn.innerHTML = '<i class="fas fa-music"></i>'; audioBtn.classList.remove('playing'); }
  else { bgm.play().catch(()=>{}); audioBtn.innerHTML = '<i class="fas fa-pause"></i>'; audioBtn.classList.add('playing'); }
  playing = !playing;
}

const s6 = document.getElementById('s6');
s6.addEventListener('touchstart', e => e.stopPropagation(), { passive: true });
s6.addEventListener('touchend', e => e.stopPropagation(), { passive: true });
</script>
</body>
</html>
